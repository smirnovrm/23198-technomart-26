var loginBlock=document.querySelector(".login-block ul"),profileBlock=document.querySelector(".profile-bar"),addLinkBlock=document.querySelector(".additional"),bookmarkBtn=document.querySelector(".extra a[title='Закладки']"),basketBtn=document.querySelector(".extra a[title='Корзина']"),bookmarBtnCnt=document.querySelector("a[title='Закладки'] span"),basketBtnCnt=document.querySelector("a[title='Корзина'] span"),loginBtn=document.querySelector(".login-btn"),logoutBtn=document.querySelector(".logout-btn"),mapModal=document.querySelector("#map-modal"),contactModal=document.querySelector("#contact-modal"),basketModal=document.querySelector("#basket-modal"),openMap=document.querySelector("#map"),openContact=document.querySelector("#open-contact"),closeMapBtn=document.querySelector("#map-modal .popup-close"),closeContactBtn=document.querySelector("#contact-modal .popup-close"),closeBasketBtn=document.querySelector("#basket-modal .modal-wrap .popup-close"),continueShopingBtn=document.querySelector("#continue-btn"),favoriteCnt=0,basketCnt=0;function openModal(t,e,o){try{e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("show")}),o.addEventListener("click",function(e){t.classList.remove("show")})}catch(e){console.log("На странице отсутствует модальное окно")}}openModal(mapModal,openMap,closeMapBtn),openModal(contactModal,openContact,closeContactBtn),loginBtn.addEventListener("click",function(e){e.preventDefault(),loginBlock.classList.add("visually-hidden"),profileBlock.classList.remove("visually-hidden"),addLinkBlock.classList.remove("visually-hidden")}),logoutBtn.addEventListener("click",function(e){e.preventDefault(),loginBlock.classList.remove("visually-hidden"),profileBlock.classList.add("visually-hidden"),addLinkBlock.classList.add("visually-hidden")}),document.querySelector(".catalog-items").addEventListener("click",function(e){"bookmark"===e.target.className?(favoriteCnt++,bookmarBtnCnt.innerHTML=favoriteCnt,bookmarkBtn.classList.add("added-item")):"buy"===e.target.className&&(basketModal.classList.add("show"),basketCnt++,0!==basketBtnCnt.innerHTML&&basketBtnCnt.innerHTML++,basketBtn.classList.add("added-item"))});try{closeBasketBtn.addEventListener("click",function(e){basketModal.classList.remove("show")}),continueShopingBtn.addEventListener("click",function(e){basketModal.classList.remove("show")})}catch(e){console.log("Не могу закрыть окно")}